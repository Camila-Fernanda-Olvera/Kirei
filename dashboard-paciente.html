<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Paciente - Kirei</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="CSS/Registro.css">
    <link rel="stylesheet" href="CSS/dashboard-paciente.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <!-- Header con navegación -->
    <header class="dashboard-header">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h1 class="logo">
                        <i class="bi bi-heart-pulse"></i>
                        Kirei
                    </h1>
                </div>
                <div class="col-md-6 text-end">
                    <div class="header-actions">
                        <!-- Selector de idioma -->
                        <button class="btn btn-outline-light btn-sm me-2" onclick="toggleLanguage()">
                            <i class="bi bi-globe"></i>
                            <span id="currentLanguage">ES</span>
                        </button>
                        <button class="btn btn-outline-light btn-sm me-2" id="notificationsBtn">
                            <i class="bi bi-bell"></i>
                            <span class="badge bg-danger">3</span>
                        </button>
                        <div class="dropdown">
                            <button class="btn btn-outline-light btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown">
                                <i class="bi bi-person-circle"></i>
                                <span id="userName">Juan Pérez</span>
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#" onclick="editarPerfil()">
                                    <i class="bi bi-pencil"></i> <span data-i18n="dashboard.edit">Editar</span> <span data-i18n="dashboard.my.info">Mi Información</span>
                                </a></li>
                                <li><a class="dropdown-item" href="#" onclick="configuracion()">
                                    <i class="bi bi-gear"></i> <span data-i18n="functions.settings">Configuración</span>
                                </a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#" onclick="cerrarSesion()">
                                    <i class="bi bi-box-arrow-right"></i> <span data-i18n="functions.logout">Cerrar Sesión</span>
                                </a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Contenido principal -->
    <main class="dashboard-main">
        <div class="container-fluid">
            <!-- Resumen rápido -->
            <div class="row mb-4">
                <div class="col-md-3">
                    <div class="quick-card">
                        <div class="quick-card-icon bg-primary">
                            <i class="bi bi-calendar-check"></i>
                        </div>
                        <div class="quick-card-content">
                            <h3>2</h3>
                            <p data-i18n="dashboard.appointments">Próximas Citas</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="quick-card">
                        <div class="quick-card-icon bg-success">
                            <i class="bi bi-pills"></i>
                        </div>
                        <div class="quick-card-content">
                            <h3>5</h3>
                            <p data-i18n="dashboard.medications">Medicamentos</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="quick-card">
                        <div class="quick-card-icon bg-warning">
                            <i class="bi bi-bell"></i>
                        </div>
                        <div class="quick-card-content">
                            <h3>3</h3>
                            <p data-i18n="dashboard.notifications">Notificaciones</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="quick-card">
                        <div class="quick-card-icon bg-info">
                            <i class="bi bi-people"></i>
                        </div>
                        <div class="quick-card-content">
                            <h3>2</h3>
                            <p data-i18n="dashboard.my.family">Familiares</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contenido principal -->
            <div class="row">
                <!-- Columna izquierda -->
                <div class="col-lg-8">
                    <!-- Información del paciente -->
                    <div class="dashboard-card mb-4">
                        <div class="card-header">
                            <h5><i class="bi bi-person-circle"></i> <span data-i18n="dashboard.my.info">Mi Información</span></h5>
                            <button class="btn btn-sm btn-outline-primary" onclick="editarPerfil()">
                                <i class="bi bi-pencil"></i> <span data-i18n="dashboard.edit">Editar</span>
                            </button>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-4 text-center mb-3">
                                    <div class="profile-image-container">
                                        <img src="https://via.placeholder.com/120" alt="Foto de perfil" class="profile-image">
                                        <button class="btn btn-sm btn-primary change-photo-btn">
                                            <i class="bi bi-camera"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="col-md-8">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="info-item">
                                                <label data-i18n="dashboard.name">Nombre:</label>
                                                <span id="patientName">Juan Pérez</span>
                                            </div>
                                            <div class="info-item">
                                                <label data-i18n="dashboard.age">Edad:</label>
                                                <span id="patientAge">73 años</span>
                                            </div>
                                            <div class="info-item">
                                                <label data-i18n="dashboard.blood.type">Tipo de sangre:</label>
                                                <span id="bloodType">O+</span>
                                            </div>
                                            <div class="info-item">
                                                <label data-i18n="dashboard.doctor">Médico tratante:</label>
                                                <span id="doctorName">Dr. García</span>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="info-item">
                                                <label data-i18n="dashboard.condition">Condición:</label>
                                                <span id="condition">Diabetes</span>
                                            </div>
                                            <div class="info-item">
                                                <label data-i18n="dashboard.allergies">Alergias:</label>
                                                <span id="allergies">Penicilina</span>
                                            </div>
                                            <div class="info-item">
                                                <label data-i18n="dashboard.emergency.contact">Contacto emergencia:</label>
                                                <span id="emergencyContact">María Pérez (Hija)</span>
                                            </div>
                                            <div class="info-item">
                                                <label data-i18n="dashboard.phone">Teléfono:</label>
                                                <span id="emergencyPhone">+52 55 1234 5678</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Calendario de citas -->
                    <div class="dashboard-card mb-4">
                        <div class="card-header">
                            <h5><i class="bi bi-calendar-event"></i> <span data-i18n="dashboard.appointments">Próximas Citas</span></h5>
                            <button class="btn btn-sm btn-primary" onclick="agregarCita()">
                                <i class="bi bi-plus"></i> <span data-i18n="dashboard.new.appointment">Nueva Cita</span>
                            </button>
                        </div>
                        <div class="card-body">
                            <div class="appointments-list">
                                <div class="appointment-item">
                                    <div class="appointment-date">
                                        <div class="date-number">15</div>
                                        <div class="date-month">JUN</div>
                                    </div>
                                    <div class="appointment-details">
                                        <h6>Consulta Cardiología</h6>
                                        <p><i class="bi bi-clock"></i> 10:00 AM</p>
                                        <p><i class="bi bi-person"></i> Dr. García</p>
                                    </div>
                                    <div class="appointment-actions">
                                        <button class="btn btn-sm btn-outline-primary">
                                            <i class="bi bi-alarm"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger">
                                            <i class="bi bi-trash"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="appointment-item">
                                    <div class="appointment-date">
                                        <div class="date-number">20</div>
                                        <div class="date-month">JUN</div>
                                    </div>
                                    <div class="appointment-details">
                                        <h6>Control Diabetes</h6>
                                        <p><i class="bi bi-clock"></i> 3:30 PM</p>
                                        <p><i class="bi bi-person"></i> Dra. Martínez</p>
                                    </div>
                                    <div class="appointment-actions">
                                        <button class="btn btn-sm btn-outline-primary">
                                            <i class="bi bi-alarm"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger">
                                            <i class="bi bi-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Medicamentos -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h5><i class="bi bi-pills"></i> <span data-i18n="dashboard.medications">Mis Medicamentos</span></h5>
                            <button class="btn btn-sm btn-primary" onclick="agregarMedicamento()">
                                <i class="bi bi-plus"></i> <span data-i18n="dashboard.add.medication">Agregar</span>
                            </button>
                        </div>
                        <div class="card-body">
                            <div class="medications-list">
                                <div class="medication-item">
                                    <div class="medication-info">
                                        <h6>Metformina 500mg</h6>
                                        <p><i class="bi bi-clock"></i> 8:00 AM y 8:00 PM</p>
                                        <p><i class="bi bi-calendar"></i> Diario</p>
                                    </div>
                                    <div class="medication-status">
                                        <span class="badge bg-success" data-i18n="status.taken">Tomado</span>
                                    </div>
                                    <div class="medication-actions">
                                        <button class="btn btn-sm btn-outline-success">
                                            <i class="bi bi-check"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-warning">
                                            <i class="bi bi-pencil"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="medication-item">
                                    <div class="medication-info">
                                        <h6>Aspirina 100mg</h6>
                                        <p><i class="bi bi-clock"></i> 9:00 AM</p>
                                        <p><i class="bi bi-calendar"></i> Diario</p>
                                    </div>
                                    <div class="medication-status">
                                        <span class="badge bg-warning" data-i18n="status.pending">Pendiente</span>
                                    </div>
                                    <div class="medication-actions">
                                        <button class="btn btn-sm btn-outline-success">
                                            <i class="bi bi-check"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-warning">
                                            <i class="bi bi-pencil"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Columna derecha -->
                <div class="col-lg-4">
                    <!-- Notificaciones -->
                    <div class="dashboard-card mb-4">
                        <div class="card-header">
                            <h5><i class="bi bi-bell"></i> <span data-i18n="dashboard.notifications">Notificaciones</span></h5>
                            <button class="btn btn-sm btn-outline-secondary">
                                <i class="bi bi-check-all"></i> <span data-i18n="dashboard.mark.all">Marcar todas</span>
                            </button>
                        </div>
                        <div class="card-body">
                            <div class="notifications-list">
                                <div class="notification-item unread">
                                    <div class="notification-icon bg-primary">
                                        <i class="bi bi-pills"></i>
                                    </div>
                                    <div class="notification-content">
                                        <h6 data-i18n="notifications.medication.reminder">Recordatorio de medicación</h6>
                                        <p data-i18n="notifications.medication.reminder.text">Es hora de tomar tu Aspirina</p>
                                        <small data-i18n="notifications.ago.minutes">Hace 5 minutos</small>
                                    </div>
                                </div>
                                <div class="notification-item unread">
                                    <div class="notification-icon bg-success">
                                        <i class="bi bi-calendar-check"></i>
                                    </div>
                                    <div class="notification-content">
                                        <h6 data-i18n="notifications.appointment.confirmed">Cita confirmada</h6>
                                        <p data-i18n="notifications.appointment.confirmed.text">Tu cita con Dr. García está confirmada</p>
                                        <small data-i18n="notifications.ago.hour">Hace 1 hora</small>
                                    </div>
                                </div>
                                <div class="notification-item">
                                    <div class="notification-icon bg-info">
                                        <i class="bi bi-heart-pulse"></i>
                                    </div>
                                    <div class="notification-content">
                                        <h6 data-i18n="notifications.new.analysis">Nuevo análisis disponible</h6>
                                        <p data-i18n="notifications.new.analysis.text">Revisa tus resultados de glucosa</p>
                                        <small data-i18n="notifications.ago.hours">Hace 2 horas</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Familiares conectados -->
                    <div class="dashboard-card mb-4">
                        <div class="card-header">
                            <h5><i class="bi bi-people"></i> <span data-i18n="dashboard.my.family">Mi Familia</span></h5>
                            <button class="btn btn-sm btn-outline-primary">
                                <i class="bi bi-plus"></i> <span data-i18n="dashboard.invite">Invitar</span>
                            </button>
                        </div>
                        <div class="card-body">
                            <div class="family-list">
                                <div class="family-member">
                                    <div class="member-avatar">
                                        <i class="bi bi-person"></i>
                                    </div>
                                    <div class="member-info">
                                        <h6>María Pérez</h6>
                                        <p>Hija</p>
                                        <small class="text-success" data-i18n="status.online">En línea</small>
                                    </div>
                                    <div class="member-actions">
                                        <button class="btn btn-sm btn-outline-primary">
                                            <i class="bi bi-chat"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="family-member">
                                    <div class="member-avatar">
                                        <i class="bi bi-person"></i>
                                    </div>
                                    <div class="member-info">
                                        <h6>Carlos Pérez</h6>
                                        <p>Hijo</p>
                                        <small class="text-muted" data-i18n="status.last.seen">Última vez: hace 2h</small>
                                    </div>
                                    <div class="member-actions">
                                        <button class="btn btn-sm btn-outline-primary">
                                            <i class="bi bi-chat"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Botón de emergencia -->
                    <div class="emergency-section">
                        <button class="btn btn-danger btn-lg w-100 emergency-btn" onclick="emergencia()">
                            <i class="bi bi-exclamation-triangle-fill"></i>
                            <span data-i18n="dashboard.emergency">EMERGENCIA</span>
                        </button>
                        <p class="text-center mt-2 small text-muted" data-i18n="dashboard.emergency.help">
                            Presiona en caso de emergencia médica
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="JS/i18n.js"></script>
    <script src="JS/dashboard-paciente.js"></script>
</body>
</html> 