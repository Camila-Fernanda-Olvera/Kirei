<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Paciente - Kirei</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="CSS/dashboard-paciente.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="dashboard-paciente-bg">
    <header class="paciente-header position-relative">
        <div class="logo-area">
            <i class="bi bi-heart-pulse"></i> Kirei
        </div>
        <div class="d-flex align-items-center gap-3 position-absolute top-0 end-0 pe-4 pt-3" style="z-index: 1051;">
            <!-- Modo claro/oscuro -->
            <div class="form-check form-switch m-0">
                <input class="form-check-input" type="checkbox" id="switchDarkMode" style="cursor:pointer">
                <label class="form-check-label ms-2" for="switchDarkMode" title="Modo claro/oscuro"><i class="bi bi-moon-stars"></i></label>
            </div>
            <!-- Modo lectura -->
            <button class="btn btn-light btn-sm rounded-circle shadow-sm" id="btnModoLectura" title="Modo lectura" style="font-size:1.2rem;"><i class="bi bi-book-half"></i></button>
            <!-- Botón usuario -->
            <button class="btn btn-primary btn-sm rounded-circle shadow-sm ms-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasUser" aria-controls="offcanvasUser" title="Opciones de usuario" style="font-size:1.3rem;"><i class="bi bi-person-circle"></i></button>
        </div>
    </header>

    <!-- Offcanvas de usuario -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasUser" aria-labelledby="offcanvasUserLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasUserLabel"><i class="bi bi-person-circle me-2"></i>Opciones</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
      </div>
      <div class="offcanvas-body">
        <ul class="list-group list-group-flush">
          <li class="list-group-item list-group-item-action py-3"><i class="bi bi-calendar-event me-2"></i>Calendario</li>
          <li class="list-group-item list-group-item-action py-3"><i class="bi bi-bell me-2"></i>Notificaciones</li>
          <li class="list-group-item list-group-item-action py-3"><i class="bi bi-chat-dots me-2"></i>Chat</li>
          <li class="list-group-item list-group-item-action py-3"><i class="bi bi-heart-pulse me-2"></i>Bienestar</li>
          <li class="list-group-item list-group-item-action py-3"><i class="bi bi-info-circle me-2"></i>Información</li>
          <li class="list-group-item list-group-item-action py-3"><i class="bi bi-lightbulb me-2"></i>Sugerencias</li>
          <li class="list-group-item list-group-item-action py-3"><i class="bi bi-gear me-2"></i>Configuración</li>
        </ul>
      </div>
    </div>

    <main class="paciente-main container py-4">
        <div class="row g-4">
            <div class="col-12 col-md-4">
                <section class="tarjeta perfil text-center p-4 mb-4">
                    <div class="perfil-img mb-3">
                        <img src="https://via.placeholder.com/100" alt="Foto de perfil" class="rounded-circle border border-3 border-primary shadow">
                    </div>
                    <div class="perfil-info">
                        <h2 id="patientName">Juan Pérez</h2>
                        <p class="mb-1"><i class="bi bi-calendar"></i> <span id="patientAge">73 años</span></p>
                        <p class="mb-1"><i class="bi bi-gender-ambiguous"></i> <span id="patientGender">Femenino</span></p>
                        <p class="mb-1"><i class="bi bi-geo-alt"></i> <span id="patientCountry">México</span></p>
                        <p class="mb-1"><i class="bi bi-translate"></i> <span id="patientLanguage">Español</span></p>
                        <p class="mb-1"><i class="bi bi-droplet"></i> <span id="bloodType">O+</span></p>
                        <p class="mb-1"><i class="bi bi-activity"></i> <span id="condition">Diabetes</span></p>
                        <p class="mb-1"><i class="bi bi-calendar2-heart"></i> <span id="diagnosisDate">2022-01-01</span></p>
                        <p class="mb-1"><i class="bi bi-person-badge"></i> <span id="doctorName">Dr. García</span></p>
                        <p class="mb-1"><i class="bi bi-briefcase-medical"></i> <span id="doctorSpecialty">Cardiología</span></p>
                        <p class="mb-1"><i class="bi bi-telephone"></i> <span id="doctorPhone">555-123-4567</span></p>
                        <p class="mb-1"><i class="bi bi-egg-fried"></i> <span id="patientDiet">Normal</span></p>
                        <p class="mb-1"><i class="bi bi-exclamation-triangle"></i> <span id="allergies">Ninguna</span></p>
                        <p class="mb-1"><i class="bi bi-person-lines-fill"></i> <span id="emergencyContact">María Pérez (Hija)</span></p>
                        <p class="mb-1"><i class="bi bi-telephone-forward"></i> <span id="emergencyPhone">+52 55 1234 5678</span></p>
                        <button class="btn btn-outline-primary mt-3" onclick="editarPerfil()"><i class="bi bi-pencil"></i> Editar perfil</button>
                    </div>
                </section>
            </div>
            <div class="col-12 col-md-8">
                <section class="tarjeta citas p-4 mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h3 class="mb-0"><i class="bi bi-calendar-check"></i> Próximas Citas</h3>
                        <button class="btn btn-primary" onclick="agregarCita()"><i class="bi bi-plus"></i> Nueva Cita</button>
                    </div>
                    <ul class="lista-citas list-unstyled">
                        <li class="d-flex justify-content-between align-items-center mb-2">
                            <span class="cita-fecha"><i class="bi bi-clock"></i> 15 Jun, 10:00 AM</span>
                            <span class="cita-desc">Cardiología - Dr. García</span>
                        </li>
                        <li class="d-flex justify-content-between align-items-center mb-2">
                            <span class="cita-fecha"><i class="bi bi-clock"></i> 20 Jun, 3:30 PM</span>
                            <span class="cita-desc">Control Diabetes - Dra. Martínez</span>
                        </li>
                    </ul>
                </section>
                <section class="tarjeta medicamentos p-4 mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h3 class="mb-0"><i class="bi bi-capsule"></i> Medicamentos</h3>
                        <button class="btn btn-primary" onclick="agregarMedicamento()"><i class="bi bi-plus"></i> Añadir Medicamento</button>
                    </div>
                    <ul class="lista-meds list-unstyled">
                        <li class="d-flex justify-content-between align-items-center mb-2">
                            <span class="med-nombre">Metformina 500mg</span>
                            <span class="med-hora"><i class="bi bi-clock"></i> 8:00 AM, 8:00 PM</span>
                        </li>
                        <li class="d-flex justify-content-between align-items-center mb-2">
                            <span class="med-nombre">Aspirina 100mg</span>
                            <span class="med-hora"><i class="bi bi-clock"></i> 9:00 AM</span>
                        </li>
                    </ul>
                </section>
                <section class="tarjeta notificaciones p-4 mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h3 class="mb-0"><i class="bi bi-bell"></i> Notificaciones</h3>
                    </div>
                    <ul class="lista-notis list-unstyled">
                        <li class="d-flex justify-content-between align-items-center mb-2">
                            <span class="noti-txt">Toma tu Aspirina</span>
                            <span class="noti-hora">Hace 5 min</span>
                        </li>
                        <li class="d-flex justify-content-between align-items-center mb-2">
                            <span class="noti-txt">Cita confirmada con Dr. García</span>
                            <span class="noti-hora">Hace 1 hora</span>
                        </li>
                    </ul>
                </section>
                <section class="tarjeta familia p-4 mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h3 class="mb-0"><i class="bi bi-people"></i> Familia</h3>
                        <button class="btn btn-outline-primary" onclick="invitarFamiliar()"><i class="bi bi-person-plus"></i> Invitar Familiar</button>
                    </div>
                    <ul class="lista-familia list-unstyled">
                        <li class="d-flex justify-content-between align-items-center mb-2">
                            <span class="fam-nombre">María Pérez (Hija)</span>
                            <span class="fam-estado text-success">En línea</span>
                        </li>
                        <li class="d-flex justify-content-between align-items-center mb-2">
                            <span class="fam-nombre">Carlos Pérez (Hijo)</span>
                            <span class="fam-estado text-muted">Última vez: hace 2h</span>
                        </li>
                    </ul>
                </section>
            </div>
        </div>
    </main>

    <button class="btn btn-danger btn-lg position-fixed bottom-0 end-0 m-4 shadow-lg" style="z-index:9999; border-radius: 2rem;" onclick="emergencia()">
        <i class="bi bi-exclamation-triangle"></i> Emergencia
    </button>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="JS/i18n.js"></script>
    <script src="JS/dashboard-paciente.js"></script>
</body>
</html> 